ARG BASE_IMAGE
FROM ${BASE_IMAGE}

# 接收参数
ARG DISTRO
ARG OS_VERSION
ARG ARCH
ARG ROOT_PASSWORD
ARG TIMEZONE

# 注入环境变量 (方便在容器内引用)
ENV DISTRO=${DISTRO}
ENV OS_VERSION=${OS_VERSION}
ENV ARCH=${ARCH}
ENV ROOT_PASSWORD=${ROOT_PASSWORD}
ENV TIMEZONE=${TIMEZONE}
ENV DEBIAN_FRONTEND=noninteractive

# 允许 Systemd 正常退出
STOPSIGNAL SIGRTMIN+3
CMD ["/bin/bash"]